/* ===========================
   Design tokens (shared)
   =========================== */
:root{
    --card:#ffffff;
    --text:#111827;
    --muted:#6b7280;
    --border:#e5e7eb;
    --shadow:0 6px 16px rgba(17,24,39,.06);
    --accent:#0f766e;            /* KPI color */
}
body.dark-mode{
    --bg:#0b1220;
    --card:#0f172a;
    --text:#e5e7eb;
    --muted:#94a3b8;
    --border:#1f2a44;
    --shadow:0 8px 24px rgba(0,0,0,.45);
    --accent:#34d399;
}

/* ===========================
   Page shell
   =========================== */
.experiment-page{
    background:#efefef;
    min-height:100vh;
    padding:32px 16px 96px; /* extra bottom space for sticky bar */
}
.page-header{
    max-width:1120px;
    margin:0 auto 14px;
    text-align:center;
}
.page-title{
    font-size:clamp(1.6rem,3vw,2rem);
    font-weight:800;
    color:var(--text);
    margin:0 0 4px;
}
.page-subtitle{
    color:var(--muted);
    margin:0;
}

/* ===========================
   Section container (no Cards)
   =========================== */
.section{
    max-width:1120px;
    margin:10px auto;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:16px 18px;
    box-shadow:var(--shadow);
}
.section-header{
    display:flex;
    align-items:center;
    gap:10px;
    margin-bottom:8px;
}
.section-title{
    font-size:clamp(1.05rem,1.7vw,1.2rem);
    font-weight:800;
    color:var(--text);
    position:relative;
}
.section-title::after{
    content:"";
    display:block;
    height:3px;
    width:36px;
    background:var(--border);
    border-radius:999px;
    margin-top:6px;
}

/* ===========================
   Compact form layout
   =========================== */
.form-grid{
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap:12px 16px; /* rows x columns */
}
.col-span-2{ grid-column:1 / -1; }
.section .mb-3{ margin-bottom:12px !important; } /* tighten Bootstrap spacing */

.section .form-label{
    font-weight:700;
    color:var(--text);
}
.section .form-control,
.section .form-select{
    background:var(--card);
    color:var(--text);
    border-color:var(--border);
}
.section .form-control::placeholder{ color:var(--muted); }
.section .form-control:focus,
.section .form-select:focus{
    box-shadow:0 0 0 .2rem rgba(99,102,241,.15);
    border-color:#c7d2fe;
}

/* ===========================
   React-Select (use classNamePrefix="rs")
   =========================== */
.rs__control{
    background:var(--card) !important;
    border:1px solid var(--border) !important;
    box-shadow:none !important;
    min-height:42px;
}
.rs__control--is-focused{
    border-color:#c7d2fe !important;
    box-shadow:0 0 0 .2rem rgba(99,102,241,.15) !important;
}
.rs__placeholder{ color:var(--muted) !important; }
.rs__single-value{ color:var(--text) !important; }
.rs__multi-value{
    background:rgba(17,24,39,.06) !important;
    border-radius:8px !important;
}
body.dark-mode .rs__multi-value{
    background:rgba(255,255,255,.08) !important;
}
.rs__multi-value__label{ color:var(--text) !important; padding-right:6px !important; }
.rs__indicator-separator{ display:none !important; }
.rs__indicator{ color:var(--muted) !important; }
.rs__menu{
    background:var(--card) !important;
    border:1px solid var(--border) !important;
    box-shadow:var(--shadow) !important;
    overflow:hidden;
}
.rs__option{ color:var(--text) !important; }
.rs__option--is-focused{ background:rgba(99,102,241,.08) !important; }
.rs__option--is-selected{
    background:rgba(99,102,241,.15) !important;
    color:var(--text) !important;
}

/* ===========================
   Bottom-center action bar
   =========================== */
.action-bar{
    position:sticky;
    bottom:16px;
    z-index:10;
    margin:18px auto 0;
    max-width:720px;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:12px 16px;
    box-shadow:var(--shadow);
    display:flex;
    align-items:center;
    justify-content:center;
    gap:16px;
    flex-wrap:wrap;
}
.kpi{
    display:flex;
    align-items:baseline;
    gap:10px;
}
.currency{
    font-size:clamp(1.2rem,2.6vw,1.6rem);
    font-weight:900;
    color:var(--accent);
    letter-spacing:.3px;
}
.kpi-sub{ color:var(--muted); font-weight:600; }

/* ===========================
   Buttons
   =========================== */
.btn-row{ display:flex; gap:10px; flex-wrap:wrap; }
.profile-button{
    appearance:none;
    border:1px solid transparent;
    border-radius:12px;
    padding:.7rem 1.2rem;
    font-weight:700;
    background:#111827;
    color:#fff;
    box-shadow:0 1px 2px rgba(0,0,0,.04);
    transition:background .2s,color .2s,border-color .2s,box-shadow .25s,transform .02s;
}
.profile-button:hover{
    filter:brightness(1.06);
    box-shadow:0 6px 16px rgba(17,24,39,.16);
}
.profile-button:active{ transform:translateY(.5px); }

.btn-ghost{
    appearance:none;
    background:transparent;
    color:var(--text);
    border:1px solid var(--border);
    border-radius:12px;
    padding:.7rem 1.1rem;
    font-weight:700;
    cursor:pointer;
}
.btn-ghost:hover{ background:rgba(0,0,0,.03); }
body.dark-mode .btn-ghost:hover{ background:rgba(255,255,255,.05); }

/* ===========================
   Misc
   =========================== */
.error-msg{
    color:#b91c1c;
    text-align:center;
    margin-top:14px;
}

/* ===========================
   Responsive
   =========================== */
@media (max-width: 992px){
    .form-grid{ grid-template-columns:1fr; }
    .col-span-2{ grid-column:auto; }
}
